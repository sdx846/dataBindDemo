<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>发布订阅者</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body>
  <!--  -->
  <div class="" id="app">

  </div>


  <script type="text/javascript">
    class EventEmitter{
        constructor(){
            //{'click':[fn1,fn2],'change':[fn]}
            this.subs=Object.create(null);
        }
        //注册事件
        $on(eventType,handler){
            this.subs[eventType]=this.subs[eventType] || [];
            this.subs[eventType].push(handler);
        }
        //触发事件
        $emit(eventType){
            if(this.subs[eventType]){
                this.subs[eventType].forEach(handler=>{
                    handler()
                })
            }
        }
    }
  </script>
</body>

</html>